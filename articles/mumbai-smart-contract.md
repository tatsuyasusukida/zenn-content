---
title: "Mumbaiã«ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã€å‹•ç”»ã‚ã‚Šã€‘"
emoji: "ğŸ‘·"
type: "tech"
topics: ["ethereum", "polygon", "solidity", "javascript", "hardhat"]
published: true
---

## ã“ã®è¨˜äº‹ã«ã¤ã„ã¦

ã“ã®è¨˜äº‹ã§ã¯Polygonã®ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã§ã‚ã‚‹[Mumbai](https://mumbai.polygonscan.com/)ã«[Hardhat](https://hardhat.org/)ã‚’ä½¿ã£ã¦ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å†…å®¹ã«ã¤ã„ã¦ã¯Alchemy Documentationã®[Hello World Smart Contract](https://docs.alchemy.com/alchemy/tutorials/hello-world-smart-contract)ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ã®é–¢é€£ãƒªã‚½ãƒ¼ã‚¹ã‚’ä¸‹è¨˜ã«ç¤ºã—ã¾ã™ã€‚

- [ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰](https://gist.github.com/tatsuyasusukida/38db3efe12e4701998e2db3d4d2b7961)
- [æº–å‚™ä½œæ¥­ã®å‹•ç”»](https://www.youtube.com/watch?v=3J6167FdJcc)

https://www.youtube.com/watch?v=3J6167FdJcc



## ç§˜å¯†éµã®ä½œæˆ

MetaMaskã‚’èµ·å‹•ã—ã¦My Accountsï¼ˆç”»é¢å³ä¸Šã«ã‚ã‚‹ä¸¸ã„ã‚¢ã‚¤ã‚³ãƒ³ï¼‰> Create Accountã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’å…¥åŠ›ã—ã¦ã‹ã‚‰Createãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ãŸã‚‰ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å¾Œã®æ‰‹é †ã®ãŸã‚ã«ã‚¨ãƒ‡ã‚£ã‚¿ãªã©ã«ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¾ã™ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã®ãŒä¾¿åˆ©ã§ã™ã€‚

Account Optionsï¼ˆç”»é¢å³ä¸Šã«ã‚ã‚‹3ã¤ã®ãƒ‰ãƒƒãƒˆã‚¢ã‚¤ã‚³ãƒ³ï¼‰> Account details > Export Private Keyã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã‹ã‚‰Confirmãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

ç§˜å¯†éµãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§å¾Œã®æ‰‹é †ãŸã‚ã«ã‚¨ãƒ‡ã‚£ã‚¿ãªã©ã«ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¾ã™ã€‚

### å‚è€ƒç”»åƒ

![](/images/articles/mumbai-smart-contract/img-key-01.jpg)

![](/images/articles/mumbai-smart-contract/img-key-02.jpg)

![](/images/articles/mumbai-smart-contract/img-key-03.jpg)

![](/images/articles/mumbai-smart-contract/img-key-04.jpg)

![](/images/articles/mumbai-smart-contract/img-key-05.jpg)

![](/images/articles/mumbai-smart-contract/img-key-06.jpg)

![](/images/articles/mumbai-smart-contract/img-key-07.jpg)

![](/images/articles/mumbai-smart-contract/img-key-08.jpg)



## MATICã®å…¥æ‰‹

[Polygon Faucet](https://faucet.polygon.technology/)ã®ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ä¸‹è¨˜ã®å†…å®¹ã‚’å…¥åŠ›ã—ã¦ã‹ã‚‰Submitãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

- Network: Mumbai
- Select Token: MATIC Token
- Wallet Address: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹

ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰Confirmãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

1ã€œ2åˆ†å¾Œã«MetaMaskã§æ®‹é«˜ãŒå¢—ãˆã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã¾ã™ã€‚ãªãŠã€2022å¹´7æœˆ25æ—¥ã®æ™‚ç‚¹ã§ã¯0.2 MATICã‚’ã‚‚ã‚‰ãˆã¾ã—ãŸã€‚

### å‚è€ƒç”»åƒ

![](/images/articles/mumbai-smart-contract/img-matic-01.jpg)

![](/images/articles/mumbai-smart-contract/img-matic-02.jpg)

![](/images/articles/mumbai-smart-contract/img-matic-03.jpg)

![](/images/articles/mumbai-smart-contract/img-matic-04.jpg)

![](/images/articles/mumbai-smart-contract/img-matic-05.jpg)



## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®æº–å‚™

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®æº–å‚™ã‚’ã—ã¾ã™ã€‚

```shell
mkdir mumbai-smart-contract
cd mumbai-smart-contract
mkdir contracts scripts
npm init -y
npm install --save dotenv
npm install --save-dev @nomiclabs/hardhat-ethers @nomiclabs/hardhat-etherscan ethers hardhat
touch .env contracts/HelloWorld.sol scripts/deploy.js scripts/interact.js hardhat.config.js
```



## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

ã‚¨ãƒ‡ã‚£ã‚¿ã§ä¸‹è¨˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦å†…å®¹ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

### contracts/HelloWorld.sol

@[gist](https://gist.github.com/tatsuyasusukida/38db3efe12e4701998e2db3d4d2b7961?file=HelloWorld.sol)

### hardhat.config.js

@[gist](https://gist.github.com/tatsuyasusukida/38db3efe12e4701998e2db3d4d2b7961?file=hardhat.config.js)

### scripts/deploy.js

@[gist](https://gist.github.com/tatsuyasusukida/38db3efe12e4701998e2db3d4d2b7961?file=deploy.js)

### scripts/interact.js

@[gist](https://gist.github.com/tatsuyasusukida/38db3efe12e4701998e2db3d4d2b7961?file=interact.js)

### .env

ä¸‹è¨˜2ç‚¹ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

- API_URL: https://matic-mumbai.chainstacklabs.com
- PRIVATE_KEY: å…ˆã®æ‰‹é †ã§ä½œæˆã—ãŸç§˜å¯†éµ
- CONTRACT_ADDRESS: ç©ºæ¬„

ä¾‹ã‚’ä¸‹è¨˜ã«ç¤ºã—ã¾ã™ã€‚

@[gist](https://gist.github.com/tatsuyasusukida/38db3efe12e4701998e2db3d4d2b7961?file=.env.example)

ãªãŠã€ä¸Šè¨˜ã®ä¾‹ã§ã¯POLYGONSCAN_API_KEYãŒå«ã¾ã‚Œã¦ã„ã¾ã™ãŒã“ã®è¨˜äº‹ã®ä½œæ¥­æ‰‹é †ã§ã¯ä¸è¦ã§ã™ã€‚



## ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«

ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚

```shell
npx hardhat compile
```

å®Ÿè¡Œçµæœã‚’ä¸‹è¨˜ã«ç¤ºã—ã¾ã™ã€‚

```
Compiled 1 Solidity file successfully
```


## ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ãƒ‡ãƒ—ãƒ­ã‚¤

ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚

```shell
npx hardhat run scripts/deploy.js
```

å®Ÿè¡Œçµæœã‚’ä¸‹è¨˜ã«ç¤ºã—ã¾ã™ã€‚

```
Contract deployed to address: 0x3B035c975Ab7053479C012bce13523c931FD20E3
```

ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚ŒãŸã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’.envã®CONTRACT_ADDRESSã«ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¾ã™ã€‚



## å‹•ä½œç¢ºèª

ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿æ›¸ãã—ã¾ã™ã€‚

```shell
npx hardhat run scripts/interact.js
```

å®Ÿè¡Œçµæœã‚’ä¸‹è¨˜ã«ç¤ºã—ã¾ã™ã€‚

```
The message is: Hello World!
Updating the mesaage...
The message is: Hello World!!
```

ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¸ã®ãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿ã«ã¯æ•°ååˆ†ç¨‹åº¦ã®ã¨ã¦ã‚‚é•·ã„æ™‚é–“ãŒå¿…è¦ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ä½•ã§ã ã‚ã†...



## ãŠã‚ã‚Šã«

æœ€åˆã¯Ethereumã®ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã«ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã‚ˆã†ã¨ã—ãŸã®ã§ã™ãŒã€å¾…ã¦ã©æš®ã‚‰ã›ã©Faucetã‹ã‚‰etherã‚’ã‚‚ã‚‰ãˆãªã„ã®ã§ç—ºã‚Œã‚’åˆ‡ã‚‰ã—ã¦Mumbaiã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸæ¬¡ç¬¬ã§ã™ã€‚æ•°ã‚«æœˆå‰ã«ã‚„ã£ãŸæ™‚ã¯ã†ã¾ãè¡Œã£ãŸã®ã§ã™ãŒã€ä¹…ã€…ã«ã‚„ã£ãŸã‚‰è‰²ã€…ã¨ã¤ã¾ã¥ã„ãŸã®ã§è‡ªåˆ†ã®å‚™å¿˜ã®ãŸã‚ã«ã‚‚æ‰‹é †ã‚’ã¾ã¨ã‚ã¦ãŠãã“ã¨ã¯é‡è¦ã ã¨æ„Ÿã˜ã¾ã—ãŸã€‚



